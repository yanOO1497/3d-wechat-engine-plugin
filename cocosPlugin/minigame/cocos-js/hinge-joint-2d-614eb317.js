System.register(["./coordinates-converts-utils-3a9a8fd2.js","./index-f16b6d61.js","./view-a5e32ee6.js","./collision-matrix-90a50e1c.js"],(function(t){"use strict";var e,o,i,n,r,a,p,s,c,u,l,y,f,_,h,g,b,d,m,w,D,O,S,j,P,C,L;return{setters:[function(t){e=t.bD,o=t.l,i=t.e3,n=t.e4,r=t.b0,a=t.c4,p=t.ep,s=t.e2,c=t.e5,u=t.fd,l=t.ec,y=t.e7,f=t.e8,_=t.d_,h=t.ft,g=t.be,b=t.e9,d=t.bc,m=t.b2,w=t.b6,D=t.bp},function(t){O=t.f,S=t.D,j=t.k},function(t){P=t.g},function(t){C=t.C,L=t.P}],execute:function(){var x,A,E,T,k;t({E:void 0,a:void 0,b:void 0,c:void 0,d:void 0,f:void 0,s:function(t,e){M=t,o._global.CC_PHYSICS_2D_BUILTIN="builtin"==t,o._global.CC_PHYSICS_2D_BOX2D="box2d"==t,I=e}}),function(t){t[t.Static=0]="Static",t[t.Kinematic=1]="Kinematic",t[t.Dynamic=2]="Dynamic",t[t.Animated=3]="Animated"}(x||(x=t("E",{}))),e(x),function(t){t[t.None=0]="None",t[t.BOX=1]="BOX",t[t.CIRCLE=2]="CIRCLE",t[t.POLYGON=3]="POLYGON"}(A||(A=t("a",{}))),e(A),function(t){t[t.None=0]="None",t[t.DISTANCE=1]="DISTANCE",t[t.SPRING=2]="SPRING",t[t.WHEEL=3]="WHEEL",t[t.MOUSE=4]="MOUSE",t[t.FIXED=5]="FIXED",t[t.SLIDER=6]="SLIDER",t[t.RELATIVE=7]="RELATIVE",t[t.HINGE=8]="HINGE"}(E||(E=t("b",{}))),e(E),function(t){t[t.Closest=0]="Closest",t[t.Any=1]="Any",t[t.AllClosest=2]="AllClosest",t[t.All=3]="All"}(T||(T=t("c",{}))),t("C",{None:"none-contact",BEGIN_CONTACT:"begin-contact",END_CONTACT:"end-contact",PRE_SOLVE:"pre-solve",POST_SOLVE:"post-solve"}),function(t){t[t.None=0]="None",t[t.Shape=1]="Shape",t[t.Joint=2]="Joint",t[t.Aabb=4]="Aabb",t[t.Pair=8]="Pair",t[t.CenterOfMass=16]="CenterOfMass",t[t.Particle=32]="Particle",t[t.Controller=64]="Controller",t[t.All=63]="All"}(k||(k=t("d",{})));var I,M,z=t("P",32),v=function(){return 0},F={impl:null,rigidBody:null,isAwake:!1,isSleeping:!1,initialize:v,setType:v,setLinearDamping:v,setAngularDamping:v,setGravityScale:v,setFixedRotation:v,setAllowSleep:v,isActive:v,setActive:v,wakeUp:v,sleep:v,getMass:v,getInertia:v,getLinearVelocity:v,setLinearVelocity:v,getLinearVelocityFromWorldPoint:v,getAngularVelocity:v,setAngularVelocity:v,getLocalVector:v,getWorldVector:v,getLocalPoint:v,getWorldPoint:v,getLocalCenter:v,getWorldCenter:v,applyForce:v,applyForceToCenter:v,applyTorque:v,applyLinearImpulse:v,applyLinearImpulseToCenter:v,applyAngularImpulse:v,onEnable:v,onDisable:v,onDestroy:v},R={INITED:!1};var q={INITED:!1},N={impl:null,initialize:v,setDampingRatio:v,setFrequency:v,setMaxForce:v,setTarget:v,setDistance:v,setAngularOffset:v,setCorrectionFactor:v,setLinearOffset:v,setMaxLength:v,setMaxTorque:v,setLowerLimit:v,setUpperLimit:v,setMaxMotorForce:v,setMaxMotorTorque:v,setMotorSpeed:v,enableLimit:v,enableMotor:v,setLowerAngle:v,setUpperAngle:v};var V,B,W,Y,H,J,G,U,X,K,Q,Z,$,tt,et,ot,it,nt,rt,at,pt=null,st=t("e",function(t){function e(){var e;(e=t.call(this)||this).velocityIterations=10,e.positionIterations=10,e.physicsWorld=void 0,e.collisionMatrix=new C,e._enable=!0,e._allowSleep=!0,e._maxSubSteps=1,e._fixedTimeStep=1/60,e._autoSimulation=!0,e._accumulator=0,e._steping=!1,e._gravity=new r(0,-10*z),e._delayEvents=[];var o=P.config?P.config.physics:null;if(o&&(r.copy(e._gravity,o.gravity),e._gravity.multiplyScalar(z),e._allowSleep=o.allowSleep,e._fixedTimeStep=o.fixedTimeStep,e._maxSubSteps=o.maxSubSteps,e._autoSimulation=o.autoSimulation,o.collisionMatrix))for(var i in o.collisionMatrix){var n=parseInt(i),a=1<<parseInt(i);e.collisionMatrix[""+a]=o.collisionMatrix[n]}return e.physicsWorld=new I.PhysicsWorld,e.gravity=e._gravity,e.allowSleep=e._allowSleep,e}i(e,t),n(e,[{key:"enable",get:function(){return this._enable},set:function(t){this._enable=t}},{key:"allowSleep",get:function(){return this._allowSleep},set:function(t){this._allowSleep=t,this.physicsWorld.setAllowSleep(t)}},{key:"gravity",get:function(){return this._gravity},set:function(t){this._gravity.set(t),this.physicsWorld.setGravity(new r(t.x/z,t.y/z))}},{key:"maxSubSteps",get:function(){return this._maxSubSteps},set:function(t){this._maxSubSteps=t}},{key:"fixedTimeStep",get:function(){return this._fixedTimeStep},set:function(t){this._fixedTimeStep=t}},{key:"autoSimulation",get:function(){return this._autoSimulation},set:function(t){this._autoSimulation=t}},{key:"debugDrawFlags",get:function(){return this.physicsWorld.debugDrawFlags},set:function(t){this.physicsWorld.debugDrawFlags=t}},{key:"stepping",get:function(){return this._steping}}],[{key:"PHYSICS_NONE",get:function(){return!M}},{key:"PHYSICS_BUILTIN",get:function(){return"builtin"===M}},{key:"PHYSICS_BOX2D",get:function(){return"box2d"===M}},{key:"instance",get:function(){return pt||(pt=new e),pt}}]);var o=e.prototype;return o.postUpdate=function(t){if(this._enable&&this._autoSimulation){O.emit(S.EVENT_BEFORE_PHYSICS),this._steping=!0;var e=this._fixedTimeStep,o=this.velocityIterations,i=this.positionIterations;this._accumulator+=t;for(var n=0;n++<this._maxSubSteps&&this._accumulator>e;)this.physicsWorld.step(e,o,i),this._accumulator-=e;for(var r=this._delayEvents,a=0,p=r.length;a<p;a++){var s=r[a];s.func.call(s.target)}r.length=0,this.physicsWorld.syncPhysicsToScene(),this.debugDrawFlags&&this.physicsWorld.drawDebug(),this._steping=!1,O.emit(S.EVENT_AFTER_PHYSICS)}},o._callAfterStep=function(t,e){this._steping?this._delayEvents.push({target:t,func:e}):e.call(t)},o.resetAccumulator=function(t){void 0===t&&(t=0),this._accumulator=t},o.step=function(t){this.physicsWorld.step(t,this.velocityIterations,this.positionIterations)},o.raycast=function(t,e,o,i){return void 0===o&&(o=T.Closest),void 0===i&&(i=4294967295),this.physicsWorld.raycast(t,e,o,i)},o.testPoint=function(t){return this.physicsWorld.testPoint(t)},o.testAABB=function(t){return this.physicsWorld.testAABB(t)},e}(a(j)));st.ID="PHYSICS_2D",O.once(S.EVENT_INIT,(function(){st.PHYSICS_NONE||p||O.registerSystem(st.ID,st.instance,0)})),function(t){t[t.Circles=0]="Circles",t[t.FaceA=1]="FaceA",t[t.FaceB=2]="FaceB"}(V||(V=t("f",{})));var ct,ut,lt,yt,ft,_t,ht,gt,bt,dt,mt,wt,Dt,Ot,St,jt,Pt,Ct,Lt,xt,At,Et,Tt,kt,It,Mt,zt,vt,Ft,Rt,qt,Nt,Vt,Bt,Wt,Yt,Ht,Jt,Gt,Ut,Xt,Kt,Qt,Zt,$t,te,ee,oe,ie,ne,re,ae,pe,se,ce,ue,le,ye,fe,_e,he,ge,be,de,me,we,De,Oe,Se,je,Pe,Ce,Le,xe,Ae,Ee,Te,ke,Ie,Me,ze,ve,Fe,Re,qe,Ne,Ve,Be,We,Ye,He,Je,Ge,Ue,Xe,Ke,Qe,Ze,$e,to,eo=u,oo=l,io=h,no=t("R",(B=s("cc.RigidBody2D"),W=io(),Y=oo(L),H=oo(x),B(J=W((at=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i))||this,y(e,"enabledContactListener",U,f(e)),y(e,"bullet",X,f(e)),y(e,"awakeOnLoad",K,f(e)),e._body=null,y(e,"_group",Q,f(e)),y(e,"_type",Z,f(e)),y(e,"_allowSleep",$,f(e)),y(e,"_gravityScale",tt,f(e)),y(e,"_linearDamping",et,f(e)),y(e,"_angularDamping",ot,f(e)),y(e,"_linearVelocity",it,f(e)),y(e,"_angularVelocity",nt,f(e)),y(e,"_fixedRotation",rt,f(e)),e}i(e,t);var r=e.prototype;return r.isAwake=function(){return!!this._body&&this._body.isAwake},r.wakeUp=function(){this._body&&this._body.wakeUp()},r.sleep=function(){this._body&&this._body.sleep()},r.getMass=function(){return this._body?this._body.getMass():0},r.applyForce=function(t,e,o){this._body&&this._body.applyForce(t,e,o)},r.applyForceToCenter=function(t,e){this._body&&this._body.applyForceToCenter(t,e)},r.applyTorque=function(t,e){this._body&&this._body.applyTorque(t,e)},r.applyLinearImpulse=function(t,e,o){this._body&&this._body.applyLinearImpulse(t,e,o)},r.applyLinearImpulseToCenter=function(t,e){this._body&&this._body.applyLinearImpulseToCenter(t,e)},r.applyAngularImpulse=function(t,e){this._body&&this._body.applyAngularImpulse(t,e)},r.getLinearVelocityFromWorldPoint=function(t,e){return this._body?this._body.getLinearVelocityFromWorldPoint(t,e):e},r.getLocalVector=function(t,e){return this._body?this._body.getLocalVector(t,e):e},r.getWorldVector=function(t,e){return this._body?this._body.getWorldVector(t,e):e},r.getLocalPoint=function(t,e){return this._body?this._body.getLocalPoint(t,e):e},r.getWorldPoint=function(t,e){return this._body?this._body.getWorldPoint(t,e):e},r.getLocalCenter=function(t){return this._body?this._body.getLocalCenter(t):t},r.getWorldCenter=function(t){return this._body?this._body.getWorldCenter(t):t},r.getInertia=function(){return this._body&&this._body.getInertia(),0},r.onLoad=function(){this._body=o._global.CC_PHYSICS_2D_BUILTIN?F:new I.RigidBody,this._body.initialize(this)},r.onEnable=function(){this._body&&this._body.onEnable()},r.onDisable=function(){this._body&&this._body.onDisable()},r.onDestroy=function(){this._body&&this._body.onDestroy()},n(e,[{key:"group",get:function(){return this._group},set:function(t){this._group=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t,this._body&&(t===x.Animated?this._body.setType(x.Kinematic):this._body.setType(t))}},{key:"allowSleep",get:function(){return this._allowSleep},set:function(t){this._allowSleep=t,this._body&&this._body.setAllowSleep(t)}},{key:"gravityScale",get:function(){return this._gravityScale},set:function(t){this._gravityScale=t,this._body&&this._body.setGravityScale(t)}},{key:"linearDamping",get:function(){return this._linearDamping},set:function(t){this._linearDamping=t,this._body&&this._body.setLinearDamping(t)}},{key:"angularDamping",get:function(){return this._angularDamping},set:function(t){this._angularDamping=t,this._body&&this._body.setAngularDamping(t)}},{key:"linearVelocity",get:function(){return this._body&&this._body.getLinearVelocity(this._linearVelocity),this._linearVelocity},set:function(t){this._linearVelocity=t,this._body&&this._body.setLinearVelocity(t)}},{key:"angularVelocity",get:function(){return this._body&&(this._angularVelocity=this._body.getAngularVelocity()),this._angularVelocity},set:function(t){this._angularVelocity=t,this._body&&this._body.setAngularVelocity(t)}},{key:"fixedRotation",get:function(){return this._fixedRotation},set:function(t){this._fixedRotation=t,this._body&&this._body.setFixedRotation(t)}},{key:"impl",get:function(){return this._body}}]),e}(_),c((G=at).prototype,"group",[Y],Object.getOwnPropertyDescriptor(G.prototype,"group"),G.prototype),U=c(G.prototype,"enabledContactListener",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=c(G.prototype,"bullet",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c(G.prototype,"type",[H],Object.getOwnPropertyDescriptor(G.prototype,"type"),G.prototype),c(G.prototype,"allowSleep",[eo],Object.getOwnPropertyDescriptor(G.prototype,"allowSleep"),G.prototype),c(G.prototype,"gravityScale",[eo],Object.getOwnPropertyDescriptor(G.prototype,"gravityScale"),G.prototype),c(G.prototype,"linearDamping",[eo],Object.getOwnPropertyDescriptor(G.prototype,"linearDamping"),G.prototype),c(G.prototype,"angularDamping",[eo],Object.getOwnPropertyDescriptor(G.prototype,"angularDamping"),G.prototype),c(G.prototype,"linearVelocity",[eo],Object.getOwnPropertyDescriptor(G.prototype,"linearVelocity"),G.prototype),c(G.prototype,"angularVelocity",[eo],Object.getOwnPropertyDescriptor(G.prototype,"angularVelocity"),G.prototype),c(G.prototype,"fixedRotation",[eo],Object.getOwnPropertyDescriptor(G.prototype,"fixedRotation"),G.prototype),K=c(G.prototype,"awakeOnLoad",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Q=c(G.prototype,"_group",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.DEFAULT}}),Z=c(G.prototype,"_type",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.Dynamic}}),$=c(G.prototype,"_allowSleep",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tt=c(G.prototype,"_gravityScale",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),et=c(G.prototype,"_linearDamping",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ot=c(G.prototype,"_angularDamping",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),it=c(G.prototype,"_linearVelocity",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),nt=c(G.prototype,"_angularVelocity",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rt=c(G.prototype,"_fixedRotation",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=G))||J)||J)),ro=t("g",(ct=s("cc.Collider2D"),ut=l(L),ct((Dt=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i))||this,y(e,"editing",ft,f(e)),y(e,"tag",_t,f(e)),e.TYPE=A.None,e._shape=null,e._body=null,y(e,"_group",ht,f(e)),y(e,"_density",gt,f(e)),y(e,"_sensor",bt,f(e)),y(e,"_friction",dt,f(e)),y(e,"_restitution",mt,f(e)),y(e,"_offset",wt,f(e)),e}i(e,t);var o=e.prototype;return o.onLoad=function(){this._shape=function(t){return R.INITED||(R.INITED=!0,R[A.BOX]=function(){return new I.BoxShape},R[A.CIRCLE]=function(){return new I.CircleShape},R[A.POLYGON]=function(){return new I.PolygonShape}),R[t]()}(this.TYPE),this._shape.initialize(this),this._shape.onLoad&&this._shape.onLoad(),this._body=this.getComponent(no)},o.onEnable=function(){this._shape&&this._shape.onEnable()},o.onDisable=function(){this._shape&&this._shape.onDisable&&this._shape.onDisable()},o.onDestroy=function(){this._shape&&this._shape.onDestroy&&this._shape.onDestroy()},o.apply=function(){this._shape&&this._shape.apply&&this._shape.apply()},n(e,[{key:"group",get:function(){return this._group},set:function(t){this._group=t,this._shape&&this._shape.onGroupChanged&&this._shape.onGroupChanged()}},{key:"density",get:function(){return this._density},set:function(t){this._density=t}},{key:"sensor",get:function(){return this._sensor},set:function(t){this._sensor=t}},{key:"friction",get:function(){return this._friction},set:function(t){this._friction=t}},{key:"restitution",get:function(){return this._restitution},set:function(t){this._restitution=t}},{key:"offset",get:function(){return this._offset},set:function(t){this._offset=t}},{key:"body",get:function(){return this._body}},{key:"impl",get:function(){return this._shape}},{key:"worldAABB",get:function(){return this._shape?this._shape.worldAABB:new g}}]),e}(a(_)),ft=c((yt=Dt).prototype,"editing",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_t=c(yt.prototype,"tag",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c(yt.prototype,"group",[ut],Object.getOwnPropertyDescriptor(yt.prototype,"group"),yt.prototype),c(yt.prototype,"density",[u],Object.getOwnPropertyDescriptor(yt.prototype,"density"),yt.prototype),c(yt.prototype,"sensor",[u],Object.getOwnPropertyDescriptor(yt.prototype,"sensor"),yt.prototype),c(yt.prototype,"friction",[u],Object.getOwnPropertyDescriptor(yt.prototype,"friction"),yt.prototype),c(yt.prototype,"restitution",[u],Object.getOwnPropertyDescriptor(yt.prototype,"restitution"),yt.prototype),c(yt.prototype,"offset",[u],Object.getOwnPropertyDescriptor(yt.prototype,"offset"),yt.prototype),ht=c(yt.prototype,"_group",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.DEFAULT}}),gt=c(yt.prototype,"_density",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),bt=c(yt.prototype,"_sensor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dt=c(yt.prototype,"_friction",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),mt=c(yt.prototype,"_restitution",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wt=c(yt.prototype,"_offset",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),lt=yt))||lt)),ao=(t("B",s("cc.BoxCollider2D")(Ot=h()((Pt=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i))||this,y(e,"_size",jt,f(e)),e.TYPE=A.BOX,e}return i(e,t),n(e,[{key:"size",get:function(){return this._size},set:function(t){this._size=t}},{key:"worldPoints",get:function(){return this._shape?this._shape.worldPoints:[]}}]),e}(ro),jt=c((St=Pt).prototype,"_size",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(1,1)}}),c(St.prototype,"size",[u],Object.getOwnPropertyDescriptor(St.prototype,"size"),St.prototype),Ot=St))||Ot)||Ot),t("h",s("cc.CircleCollider2D")(Ct=h()((At=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i))||this,y(e,"_radius",xt,f(e)),e.TYPE=A.CIRCLE,e}return i(e,t),n(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius=t<0?0:t}},{key:"worldPosition",get:function(){return this._shape?this._shape.worldPosition:new r}},{key:"worldRadius",get:function(){return this._shape?this._shape.worldRadius:0}}]),e}(ro),xt=c((Lt=At).prototype,"_radius",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),c(Lt.prototype,"radius",[u],Object.getOwnPropertyDescriptor(Lt.prototype,"radius"),Lt.prototype),Ct=Lt))||Ct)||Ct),t("i",(Et=s("cc.PolygonCollider2D"),Tt=h(),kt=u({serializable:!1}),It=u({type:r}),Et(Mt=Tt((Rt=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i))||this,y(e,"threshold",vt,f(e)),y(e,"_points",Ft,f(e)),e.TYPE=A.POLYGON,e}return i(e,t),n(e,[{key:"points",get:function(){return this._points},set:function(t){this._points=t}},{key:"worldPoints",get:function(){return this._shape?this._shape.worldPoints:[]}}]),e}(ro),vt=c((zt=Rt).prototype,"threshold",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ft=c(zt.prototype,"_points",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new r(-1,-1),new r(1,-1),new r(1,1),new r(-1,1)]}}),c(zt.prototype,"points",[It],Object.getOwnPropertyDescriptor(zt.prototype,"points"),zt.prototype),Mt=zt))||Mt)||Mt)),t("J",(qt=s("cc.Joint2D"),Nt=l(no),qt((Gt=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i))||this,y(e,"anchor",Wt,f(e)),y(e,"connectedAnchor",Yt,f(e)),y(e,"collideConnected",Ht,f(e)),y(e,"connectedBody",Jt,f(e)),e._body=null,e._joint=null,e.TYPE=E.None,e}i(e,t);var r=e.prototype;return r.onLoad=function(){this._joint=function(t){return function(){if(!q.INITED){q.INITED=!0;var t=o._global.CC_PHYSICS_2D_BUILTIN;q[E.SPRING]=function(){return t?N:new I.SpringJoint},q[E.DISTANCE]=function(){return t?N:new I.DistanceJoint},q[E.FIXED]=function(){return t?N:new I.FixedJoint},q[E.MOUSE]=function(){return t?N:new I.MouseJoint},q[E.RELATIVE]=function(){return t?N:new I.RelativeJoint},q[E.SLIDER]=function(){return t?N:new I.SliderJoint},q[E.WHEEL]=function(){return t?N:new I.WheelJoint},q[E.HINGE]=function(){return t?N:new I.HingeJoint}}}(),q[t]()}(this.TYPE),this._joint.initialize(this),this._body=this.getComponent(no)},r.onEnable=function(){this._joint&&this._joint.onEnable&&this._joint.onEnable()},r.onDisable=function(){this._joint&&this._joint.onDisable&&this._joint.onDisable()},r.start=function(){this._joint&&this._joint.start&&this._joint.start()},r.onDestroy=function(){this._joint&&this._joint.onDestroy&&this._joint.onDestroy()},n(e,[{key:"body",get:function(){return this._body}},{key:"impl",get:function(){return this._joint}}]),e}(_),Wt=c((Bt=Gt).prototype,"anchor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),Yt=c(Bt.prototype,"connectedAnchor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),Ht=c(Bt.prototype,"collideConnected",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jt=c(Bt.prototype,"connectedBody",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vt=Bt))||Vt))),po=(t("D",s("cc.DistanceJoint2D")(Ut=h()((Zt=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).TYPE=E.DISTANCE,y(e,"_maxLength",Kt,f(e)),y(e,"_autoCalcDistance",Qt,f(e)),e}return i(e,t),n(e,[{key:"maxLength",get:function(){return this._autoCalcDistance&&this.connectedBody?m.distance(this.node.worldPosition,this.connectedBody.node.worldPosition):this._maxLength},set:function(t){this._maxLength=t,this._joint&&this._joint.setMaxLength(t)}},{key:"autoCalcDistance",get:function(){return this._autoCalcDistance},set:function(t){this._autoCalcDistance=t}}]),e}(ao),c((Xt=Zt).prototype,"maxLength",[u],Object.getOwnPropertyDescriptor(Xt.prototype,"maxLength"),Xt.prototype),c(Xt.prototype,"autoCalcDistance",[u],Object.getOwnPropertyDescriptor(Xt.prototype,"autoCalcDistance"),Xt.prototype),Kt=c(Xt.prototype,"_maxLength",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),Qt=c(Xt.prototype,"_autoCalcDistance",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ut=Xt))||Ut)||Ut),t("S",s("cc.SpringJoint2D")($t=h()((re=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).TYPE=E.SPRING,y(e,"_frequency",ee,f(e)),y(e,"_dampingRatio",oe,f(e)),y(e,"_distance",ie,f(e)),y(e,"_autoCalcDistance",ne,f(e)),e}return i(e,t),n(e,[{key:"frequency",get:function(){return this._frequency},set:function(t){this._frequency=t,this._joint&&this._joint.setFrequency(t)}},{key:"dampingRatio",get:function(){return this._dampingRatio},set:function(t){this._dampingRatio=t,this._joint&&this._joint.setDampingRatio(t)}},{key:"distance",get:function(){return this._autoCalcDistance&&this.connectedBody?m.distance(this.node.worldPosition,this.connectedBody.node.worldPosition):this._distance},set:function(t){this._distance=t,this._joint&&this._joint.setDistance(t)}},{key:"autoCalcDistance",get:function(){return this._autoCalcDistance},set:function(t){this._autoCalcDistance=t}}]),e}(ao),c((te=re).prototype,"frequency",[u],Object.getOwnPropertyDescriptor(te.prototype,"frequency"),te.prototype),c(te.prototype,"dampingRatio",[u],Object.getOwnPropertyDescriptor(te.prototype,"dampingRatio"),te.prototype),c(te.prototype,"distance",[u],Object.getOwnPropertyDescriptor(te.prototype,"distance"),te.prototype),c(te.prototype,"autoCalcDistance",[u],Object.getOwnPropertyDescriptor(te.prototype,"autoCalcDistance"),te.prototype),ee=c(te.prototype,"_frequency",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),oe=c(te.prototype,"_dampingRatio",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.7}}),ie=c(te.prototype,"_distance",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),ne=c(te.prototype,"_autoCalcDistance",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$t=te))||$t)||$t),t("M",s("cc.MouseJoint2D")(ae=h()((le=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).TYPE=E.MOUSE,y(e,"_maxForce",se,f(e)),y(e,"_dampingRatio",ce,f(e)),y(e,"_frequency",ue,f(e)),e._target=new r,e}return i(e,t),e.prototype.update=function(t){this._joint.update(t)},n(e,[{key:"target",get:function(){return this._target},set:function(t){this._target=t,this._joint&&this._joint.setTarget(t)}},{key:"frequency",get:function(){return this._frequency},set:function(t){this._frequency=t,this._joint&&this._joint.setFrequency(t)}},{key:"dampingRatio",get:function(){return this._dampingRatio},set:function(t){this._dampingRatio=t,this._joint&&this._joint.setDampingRatio(t)}},{key:"maxForce",get:function(){return this._maxForce},set:function(t){this._maxForce=t,this._joint&&this._joint.setMaxForce(t)}}]),e}(ao),c((pe=le).prototype,"frequency",[u],Object.getOwnPropertyDescriptor(pe.prototype,"frequency"),pe.prototype),c(pe.prototype,"dampingRatio",[u],Object.getOwnPropertyDescriptor(pe.prototype,"dampingRatio"),pe.prototype),c(pe.prototype,"maxForce",[u],Object.getOwnPropertyDescriptor(pe.prototype,"maxForce"),pe.prototype),se=c(pe.prototype,"_maxForce",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),ce=c(pe.prototype,"_dampingRatio",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.7}}),ue=c(pe.prototype,"_frequency",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),ae=pe))||ae)||ae),new m),so=new m,co=(t("j",s("cc.RelativeJoint2D")(ye=h()((we=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).TYPE=E.RELATIVE,y(e,"_maxForce",_e,f(e)),y(e,"_maxTorque",he,f(e)),y(e,"_correctionFactor",ge,f(e)),y(e,"_angularOffset",be,f(e)),y(e,"_linearOffset",de,f(e)),y(e,"_autoCalcOffset",me,f(e)),e}return i(e,t),n(e,[{key:"maxForce",get:function(){return this._maxForce},set:function(t){this._maxForce=t,this._joint&&this._joint.setMaxForce(t)}},{key:"maxTorque",get:function(){return this._maxTorque},set:function(t){this._maxTorque=t,this._joint&&this._joint.setMaxTorque(t)}},{key:"correctionFactor",get:function(){return this._correctionFactor},set:function(t){this._correctionFactor=t,this._joint&&this._joint.setCorrectionFactor(t)}},{key:"linearOffset",get:function(){return this._autoCalcOffset&&this.connectedBody?r.subtract(this._linearOffset,this.connectedBody.node.worldPosition,this.node.worldPosition):this._linearOffset},set:function(t){this._linearOffset.set(t),this._joint&&this._joint.setLinearOffset(t)}},{key:"angularOffset",get:function(){return this._autoCalcOffset&&this.connectedBody&&(w.toEuler(po,this.node.worldRotation),w.toEuler(so,this.connectedBody.node.worldRotation),this._angularOffset=so.z-po.z),this._angularOffset},set:function(t){this._angularOffset=t,this._joint&&this._joint.setAngularOffset(t)}},{key:"autoCalcOffset",get:function(){return this._autoCalcOffset},set:function(t){this._autoCalcOffset=t}}]),e}(ao),c((fe=we).prototype,"maxForce",[u],Object.getOwnPropertyDescriptor(fe.prototype,"maxForce"),fe.prototype),c(fe.prototype,"maxTorque",[u],Object.getOwnPropertyDescriptor(fe.prototype,"maxTorque"),fe.prototype),c(fe.prototype,"correctionFactor",[u],Object.getOwnPropertyDescriptor(fe.prototype,"correctionFactor"),fe.prototype),c(fe.prototype,"linearOffset",[u],Object.getOwnPropertyDescriptor(fe.prototype,"linearOffset"),fe.prototype),c(fe.prototype,"angularOffset",[u],Object.getOwnPropertyDescriptor(fe.prototype,"angularOffset"),fe.prototype),c(fe.prototype,"autoCalcOffset",[u],Object.getOwnPropertyDescriptor(fe.prototype,"autoCalcOffset"),fe.prototype),_e=c(fe.prototype,"_maxForce",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),he=c(fe.prototype,"_maxTorque",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.7}}),ge=c(fe.prototype,"_correctionFactor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),be=c(fe.prototype,"_angularOffset",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),de=c(fe.prototype,"_linearOffset",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),me=c(fe.prototype,"_autoCalcOffset",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ye=fe))||ye)||ye),new r);t("k",s("cc.SliderJoint2D")(De=h()((Te=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).TYPE=E.SLIDER,y(e,"_angle",Se,f(e)),y(e,"_autoCalcAngle",je,f(e)),y(e,"_enableMotor",Pe,f(e)),y(e,"_maxMotorForce",Ce,f(e)),y(e,"_motorSpeed",Le,f(e)),y(e,"_enableLimit",xe,f(e)),y(e,"_lowerLimit",Ae,f(e)),y(e,"_upperLimit",Ee,f(e)),e}return i(e,t),n(e,[{key:"angle",get:function(){return this._autoCalcAngle&&this.connectedBody&&(r.subtract(co,this.connectedBody.node.worldPosition,this.node.worldPosition),this._angle=D(Math.atan2(co.y,co.x))),this._angle},set:function(t){this._angle=t}},{key:"autoCalcAngle",get:function(){return this._autoCalcAngle},set:function(t){this._autoCalcAngle=t}},{key:"enableMotor",get:function(){return this._enableMotor},set:function(t){this._enableMotor=t}},{key:"maxMotorForce",get:function(){return this._maxMotorForce},set:function(t){this._maxMotorForce=t,this._joint&&this._joint.setMaxMotorForce(t)}},{key:"motorSpeed",get:function(){return this._motorSpeed},set:function(t){this._motorSpeed=t,this._joint&&this._joint.setMotorSpeed(t)}},{key:"enableLimit",get:function(){return this._enableLimit},set:function(t){this._enableLimit=t}},{key:"lowerLimit",get:function(){return this._lowerLimit},set:function(t){this._lowerLimit=t,this._joint&&this._joint.setLowerLimit(t)}},{key:"upperLimit",get:function(){return this._upperLimit},set:function(t){this._upperLimit=t,this._joint&&this._joint.setUpperLimit(t)}}]),e}(ao),c((Oe=Te).prototype,"angle",[u],Object.getOwnPropertyDescriptor(Oe.prototype,"angle"),Oe.prototype),c(Oe.prototype,"autoCalcAngle",[u],Object.getOwnPropertyDescriptor(Oe.prototype,"autoCalcAngle"),Oe.prototype),c(Oe.prototype,"enableMotor",[u],Object.getOwnPropertyDescriptor(Oe.prototype,"enableMotor"),Oe.prototype),c(Oe.prototype,"maxMotorForce",[u],Object.getOwnPropertyDescriptor(Oe.prototype,"maxMotorForce"),Oe.prototype),c(Oe.prototype,"motorSpeed",[u],Object.getOwnPropertyDescriptor(Oe.prototype,"motorSpeed"),Oe.prototype),c(Oe.prototype,"enableLimit",[u],Object.getOwnPropertyDescriptor(Oe.prototype,"enableLimit"),Oe.prototype),c(Oe.prototype,"lowerLimit",[u],Object.getOwnPropertyDescriptor(Oe.prototype,"lowerLimit"),Oe.prototype),c(Oe.prototype,"upperLimit",[u],Object.getOwnPropertyDescriptor(Oe.prototype,"upperLimit"),Oe.prototype),Se=c(Oe.prototype,"_angle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),je=c(Oe.prototype,"_autoCalcAngle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Pe=c(Oe.prototype,"_enableMotor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ce=c(Oe.prototype,"_maxMotorForce",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),Le=c(Oe.prototype,"_motorSpeed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),xe=c(Oe.prototype,"_enableLimit",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ae=c(Oe.prototype,"_lowerLimit",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ee=c(Oe.prototype,"_upperLimit",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),De=Oe))||De)||De),t("F",s("cc.FixedJoint2D")(ke=h()((ve=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).TYPE=E.FIXED,y(e,"_frequency",Me,f(e)),y(e,"_dampingRatio",ze,f(e)),e}return i(e,t),n(e,[{key:"frequency",get:function(){return this._frequency},set:function(t){this._frequency=t,this._joint&&this._joint.setFrequency(t)}},{key:"dampingRatio",get:function(){return this._dampingRatio},set:function(t){this._dampingRatio=t,this._joint&&this._joint.setDampingRatio(t)}}]),e}(ao),c((Ie=ve).prototype,"frequency",[u],Object.getOwnPropertyDescriptor(Ie.prototype,"frequency"),Ie.prototype),c(Ie.prototype,"dampingRatio",[u],Object.getOwnPropertyDescriptor(Ie.prototype,"dampingRatio"),Ie.prototype),Me=c(Ie.prototype,"_frequency",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.7}}),ze=c(Ie.prototype,"_dampingRatio",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),ke=Ie))||ke)||ke),t("W",s("cc.WheelJoint2D")(Fe=h()((He=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).TYPE=E.WHEEL,y(e,"_angle",qe,f(e)),y(e,"_enableMotor",Ne,f(e)),y(e,"_maxMotorTorque",Ve,f(e)),y(e,"_motorSpeed",Be,f(e)),y(e,"_frequency",We,f(e)),y(e,"_dampingRatio",Ye,f(e)),e}return i(e,t),n(e,[{key:"angle",get:function(){return this._angle},set:function(t){this._angle=t}},{key:"enableMotor",get:function(){return this._enableMotor},set:function(t){this._enableMotor=t,this._joint&&this._joint.enableMotor(t)}},{key:"maxMotorTorque",get:function(){return this._maxMotorTorque},set:function(t){this._maxMotorTorque=t,this._joint&&this._joint.setMaxMotorTorque(t)}},{key:"motorSpeed",get:function(){return this._motorSpeed},set:function(t){this._motorSpeed=t,this._joint&&this._joint.setMotorSpeed(t)}},{key:"frequency",get:function(){return this._frequency},set:function(t){this._frequency=t,this._joint&&this._joint.setFrequency(t)}},{key:"dampingRatio",get:function(){return this._dampingRatio},set:function(t){this._dampingRatio=t,this._joint&&this._joint.setDampingRatio(t)}}]),e}(ao),c((Re=He).prototype,"angle",[u],Object.getOwnPropertyDescriptor(Re.prototype,"angle"),Re.prototype),c(Re.prototype,"enableMotor",[u],Object.getOwnPropertyDescriptor(Re.prototype,"enableMotor"),Re.prototype),c(Re.prototype,"maxMotorTorque",[u],Object.getOwnPropertyDescriptor(Re.prototype,"maxMotorTorque"),Re.prototype),c(Re.prototype,"motorSpeed",[u],Object.getOwnPropertyDescriptor(Re.prototype,"motorSpeed"),Re.prototype),c(Re.prototype,"frequency",[u],Object.getOwnPropertyDescriptor(Re.prototype,"frequency"),Re.prototype),c(Re.prototype,"dampingRatio",[u],Object.getOwnPropertyDescriptor(Re.prototype,"dampingRatio"),Re.prototype),qe=c(Re.prototype,"_angle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 90}}),Ne=c(Re.prototype,"_enableMotor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ve=c(Re.prototype,"_maxMotorTorque",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),Be=c(Re.prototype,"_motorSpeed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),We=c(Re.prototype,"_frequency",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),Ye=c(Re.prototype,"_dampingRatio",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.7}}),Fe=Re))||Fe)||Fe),t("H",s("cc.HingeJoint2D")(Je=h()((to=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).TYPE=E.HINGE,y(e,"_enableLimit",Ue,f(e)),y(e,"_lowerAngle",Xe,f(e)),y(e,"_upperAngle",Ke,f(e)),y(e,"_enableMotor",Qe,f(e)),y(e,"_maxMotorTorque",Ze,f(e)),y(e,"_motorSpeed",$e,f(e)),e}return i(e,t),n(e,[{key:"enableLimit",get:function(){return this._enableLimit},set:function(t){this._enableLimit=t}},{key:"lowerAngle",get:function(){return this._lowerAngle},set:function(t){this._lowerAngle=t,this._joint&&this._joint.setLowerAngle(t)}},{key:"upperAngle",get:function(){return this._upperAngle},set:function(t){this._upperAngle=t,this._joint&&this._joint.setUpperAngle(t)}},{key:"enableMotor",get:function(){return this._enableMotor},set:function(t){this._enableMotor=t,this._joint&&this._joint.enableMotor(t)}},{key:"maxMotorTorque",get:function(){return this._maxMotorTorque},set:function(t){this._maxMotorTorque=t,this._joint&&this._joint.setMaxMotorTorque(t)}},{key:"motorSpeed",get:function(){return this._motorSpeed},set:function(t){this._motorSpeed=t,this._joint&&this._joint.setMotorSpeed(t)}}]),e}(ao),c((Ge=to).prototype,"enableLimit",[u],Object.getOwnPropertyDescriptor(Ge.prototype,"enableLimit"),Ge.prototype),c(Ge.prototype,"lowerAngle",[u],Object.getOwnPropertyDescriptor(Ge.prototype,"lowerAngle"),Ge.prototype),c(Ge.prototype,"upperAngle",[u],Object.getOwnPropertyDescriptor(Ge.prototype,"upperAngle"),Ge.prototype),c(Ge.prototype,"enableMotor",[u],Object.getOwnPropertyDescriptor(Ge.prototype,"enableMotor"),Ge.prototype),c(Ge.prototype,"maxMotorTorque",[u],Object.getOwnPropertyDescriptor(Ge.prototype,"maxMotorTorque"),Ge.prototype),c(Ge.prototype,"motorSpeed",[u],Object.getOwnPropertyDescriptor(Ge.prototype,"motorSpeed"),Ge.prototype),Ue=c(Ge.prototype,"_enableLimit",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xe=c(Ge.prototype,"_lowerAngle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ke=c(Ge.prototype,"_upperAngle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qe=c(Ge.prototype,"_enableMotor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ze=c(Ge.prototype,"_maxMotorTorque",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),$e=c(Ge.prototype,"_motorSpeed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Je=Ge))||Je)||Je)}}}));
